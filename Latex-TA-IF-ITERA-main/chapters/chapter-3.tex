\newpage
\chapter{METODE PENELITIAN} \label{Bab III}

\section{Alur Penelitian} \label{III.Alur}
Penelitian ini dirancang untuk menganalisis faktor-faktor determinan penyebab \textit{stunting} pada tingkat provinsi di Indonesia dengan memanfaatkan data sekunder \textit{Annual Report} Survei Status Gizi Indonesia (SSGI) tahun 2024. Pendekatan yang digunakan mengombinasikan pemodelan \textit{machine Learning} regresi menggunakan \textit{Random Forest} dan metode interpretasi model SHAP \textit{(SHapley Additive exPlanations)}. Model ini dibangun menggunakan dataset agregat tingkat provinsi yang memuat berbagai indikator status gizi balita serta faktor determinan yang mencakup aspek kesehatan ibu dan anak, pola asuh, layanan kesehatan, penyakit, perlindungan sosial, dan kondisi sanitasi. Penelitian ini bertujuan untuk mengidentifikasi  faktor determinan utama yang berkontribusi terhadap tingginya prevalensi \textit{stunting} antar provinsi, serta memberikan pemahaman yang bersifat interpretatif sebagai dasar perumusan kebijakan dan intervensi gizi yang lebih tepat sasaran. Secara garis besar, tahapan penelitian digambarkan dalam diagram alir (\textit{flowchart}) pada Gambar \ref{fig:3.alur}.

\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{figure/alur_utama.jpg}
    \caption{Diagram Alir Penelitian}
    \label{fig:3.alur}
\end{figure}

Berdasarkan Gambar \ref{fig:3.alur}, alur penelitian disusun secara sistematis yang diawali dengan tahap identifikasi masalah mengenai urgensi penanganan \textit{stunting} di Indonesia dan kompleksitas faktor determinan yang mempengaruhinya di tingkat provinsi. Tahap ini didukung oleh studi literatur mendalam untuk memahami variabel-variabel determinan multidimensi yang mencakup berbagai aspek, serta metode pengolahan data dan pemodelan \textit{machine learning} yang relevan. Berlandaskan pemahaman tersebut, selanjutnya dilakukan pengumpulan dataset yang bersumber dari Laporan Tahunan Survei Status Gizi Indonesia (SSGI) tahun 2024. Laporan Tahunan SSGI 2024 kemudian digunakan untuk menyiapkan dataset agregat tingkat provinsi yang memuat variabel target (prevalensi \textit{stunting}) dan variabel fitur (faktor determinan). Data mentah yang diperoleh selanjutnya diproses melalui tahapan pra-pemrosesan data yang meliputi pembersihan data, penyaringan data, dan pemisahan variabel target dan fitur. 

Setelah data siap, tahap berikutnya adalah pembangunan model regresi menggunakan algoritma \textit{Random Forest}. Proses ini mencakup penentuan parameter terbaik melalui \textit{Grid Search} dan validasi silang (\textit{Cross Validation}) untuk memastikan performa model yang optimal. Model yang telah dilatih kemudian dievaluasi kinerjanya menggunakan metrik statistik seperti \textit{Mean Absolute Error} (MAE), \textit{Mean Squared Error} (MSE), \textit{Root Mean Squared Error} (RMSE), \textit{Mean Absolute Percentage Error} (MAPE), serta koefisien determinasi ($R^2$ Score). Langkah terakhir adalah menginterpretasikan hasil prediksi model \textit{Random Forest} menggunakan SHAP untuk mengetahui kontribusi setiap fitur determinan terhadap angka \textit{stunting}, baik secara global skala nasional maupun lokal per provinsi.

\section{Langkah Penelitian} \label{sec:langkah_penelitian}

Tahapan penelitian disusun secara sistematis untuk menjawab rumusan masalah yang telah ditetapkan. Secara garis besar, alur penelitian terdiri dari identifikasi masalah, studi literatur, penyiapan data, pra-pemrosesan, pembangunan model, hingga evaluasi dan interpretasi hasil. Penjelasan rinci mengenai masing-masing tahapan diuraikan sebagai berikut.

\subsection{Identifikasi Masalah} \label{subsec:identifikasi}
Tahap awal penelitian ini dilakukan dengan mengidentifikasi permasalahan mengenai prevalensi \textit{stunting} di Indonesia serta kompleksitas faktor determinan yang mempengaruhinya. Identifikasi masalah dalam penelitian ini dilakukan melalui tahapan observasi statistik awal terhadap distribusi dataset SSGI 2024 yang menyajikan data \textit{stunting} dalam berbagai aspek determinan, seperti kesehatan ibu, pelayanan kesehatan, pola asuh, konsumsi pangan, lingkungan, serta faktor sosial ekonomi. Keberagaman indikator tersebut memperlihatkan bahwa permasalahan \textit{stunting} bersifat multidimensional dan tidak hanya dipengaruhi oleh faktor tunggal. Temuan ini mendorong munculnya pertanyaan penelitian mengenai kesesuaian strategi intervensi gizi yang bersifat seragam dalam menurunkan prevalensi \textit{stunting} di seluruh provinsi di Indonesia. Berdasarkan kondisi tersebut, penelitian ini ditujukan untuk mengidentifikasi faktor determinan utama penyebab \textit{stunting} pada tingkat provinsi menggunakan pendekatan analisis data interpretasi berbasis \textit{machine learning}.

\subsection{Studi Literatur} \label{subsec:literatur}
Pada tahap studi literatur, dilakukan identifikasi mengenai pendekatan, metode, dan jenis data yang digunakan dalam penelitian terkait \textit{stunting} terdahulu. Hal ini dilakukan untuk menemukan celah penelitian yang dapat diisi melalui pendekatan baru yang diusulkan. Hasil tinjauan literatur menunjukkan bahwa sebagian besar studi menerapkan metode prediksi \textit{stunting} dengan algoritma \textit{machine learning}, terutama algoritma \textit{Random Forest}, \textit{Gradient Boosting}, dan \textit{XGBoost} dengan fokus utama pada peningkatan akurasi prediksi. Selain itu, sebagian besar penelitian \textit{machine learning} mengenai \textit{stunting} dilakukan menggunakan data individu atau wilayah yang terbatas dengan fokus utama pada peningkatan akurasi prediksi. Penelitian yang menggunakan data agregat tingkat provinsi masih sangat minim, begitu pula dengan penggunaan metode interpretasi model untuk memahami kontribusi faktor determinan penyebab \textit{stunting}.

Berdasarkan temuan tersebut, penelitian ini mengadopsi pendekatan pemodelan \textit{machine learning} regresi menggunakan algoritma \textit{Random Forest} yang dipadukan dengan metode interpretasi SHAP untuk mengisi celah penelitian yang ada. Pendekatan ini diharapkan dapat memberikan wawasan baru mengenai faktor-faktor determinan utama penyebab \textit{stunting} pada tingkat agregat provinsi menggunakan data SSGI 2024 yang masih terbatas penggunaannya. Tahap studi literatur juga dilakukan sebagai dasar pemilihan teori dan metode yang akan diterapkan dalam penelitian.

\subsection{Penyiapan Data} \label{subsec:penyiapan}
Data yang digunakan dalam penelitian ini merupakan data sekunder yang bersumber dari Laporan Publikasi Survei Status Gizi Indonesia (SSGI) tahun 2024 yang diterbitkan oleh Kementerian Kesehatan Republik Indonesia \cite{kemenkes2025ssgi}. Laporan ini disajikan dalam bentuk dokumen PDF dan memuat informasi statistik yang komprehensif, mencakup ±5.189 tabel statistik yang menggambarkan indikator kesehatan ibu dan anak, pola asuh, akses pelayanan kesehatan, kondisi sanitasi dan lingkungan, serta karakteristik demografi rumah tangga. Secara spesifik, populasi target dalam survei ini difokuskan pada rumah tangga kelompok balita usia 0-59 bulan, dengan data yang disajikan menggunakan pendekatan \textit{cross-sectional} untuk menggambarkan kondisi kesehatan pada satu titik waktu tertentu. Seluruh informasi statistik tersebut disajikan dalam bentuk numerik atau persentase yang merepresentasikan prevalensi kejadian di wilayah terkait.

Informasi dalam laporan SSGI 2024 disajikan dalam berbagai tingkat agregasi wilayah, mulai dari data nasional, provinsi, hingga rincian kabupaten/kota. Dari berbagai tingkatan tersebut, penelitian ini membatasi unit analisis pada skala provinsi guna menganalisis variabilitas determinan \textit{stunting} antarwilayah secara makro. Namun, kompleksitas struktur data ini menyebabkan data tidak dapat langsung digunakan sebagai \textit{dataset} penelitian kuantitatif tanpa melalui proses penyiapan data terlebih dahulu. Oleh karena itu, diperlukan suatu tahapan penyiapan data untuk mengekstraksi, menyeleksi, dan menyusun kembali informasi yang relevan agar diperoleh \textit{dataset} terstruktur yang sesuai dengan tujuan penelitian. Alur penyiapan data yang dilakukan dalam penelitian ini ditunjukkan pada Gambar \ref{fig:4.persiapan_data}.

\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{figure/penyiapan_data.jpg}
    \caption{Alur Penyiapan Data}
    \label{fig:4.persiapan_data}
\end{figure}

Alur penyiapan data pada Gambar \ref{fig:4.persiapan_data} menggambarkan tahapan yang dilakukan untuk mengonversi data mentah SSGI 2024 dalam bentuk PDF menjadi \textit{dataset} terstruktur yang siap digunakan pada tahap pra-pemrosesan dan pemodelan. Penjelasan lebih lanjut mengenai masing-masing tahapan penyiapan data diuraikan sebagai berikut:

\subsubsection{Ekstraksi Data}
Tahap pertama difokuskan pada pengumpulan data mentah dari laporan SSGI 2024 yang tersedia dalam bentuk dokumen PDF dengan ribuan tabel statistik yang kompleks. Mengingat data tersebar dalam berbagai sub-bab laporan, dilakukan identifikasi manual terlebih dahulu untuk memetakan nomor halaman tabel yang memuat indikator determinan \textit{stunting} dan prevalensi gizi balita. Informasi dari tabel-tabel tersebut kemudian diekstraksi dan dikonversi dari bentuk dokumen statis menjadi lembar kerja digital (\textit{spreadsheet}) yang lebih fleksibel. Karena data asli menggunakan pendekatan \textit{cross-sectional} dengan banyak kategori, proses ekstraksi dilakukan dengan memastikan angka persentase yang diambil sesuai dengan label baris dan kolom yang benar.

Pada tahap ini juga ditetapkan skala analisis yang digunakan dalam penelitian, yaitu skala provinsi sebagai representasi kondisi nasional. Pemilihan skala provinsi dilakukan dengan mempertimbangkan tujuan penelitian yang berfokus pada pemetaan faktor determinan \textit{stunting} secara makro. Berdasarkan keputusan tersebut, seluruh tabel yang dianalisis dibatasi pada tabel tingkat provinsi yang tersedia dalam laporan SSGI 2024.

\subsubsection{Seleksi Fitur Determinan}
Tahap seleksi fitur dilakukan untuk menentukan variabel determinan \textit{stunting} yang relevan dari 100 tabel tingkat provinsi hasil ekstraksi data SSGI 2024. Proses seleksi ini mempertimbangkan kesesuaian variabel dengan tujuan penelitian, keterwakilan indikator determinan, serta potensi redundansi informasi antar tabel. Variabel yang bersifat terlalu rinci, deskriptif kategori, atau tidak lagi informatif pada tingkat agregasi provinsi dieliminasi dan, apabila memungkinkan, direpresentasikan melalui variabel status atau skor risiko komposit.

Pendekatan seleksi ini diterapkan untuk menyesuaikan karakteristik data dengan tingkat analisis penelitian, yaitu pada level provinsi, sehingga kompleksitas yang tidak diperlukan dapat dikurangi tanpa menghilangkan makna substantif indikator. Berdasarkan proses tersebut, sebanyak 71 tabel dipertahankan dan digunakan sebagai dasar pembentukan fitur penelitian. Hasil seleksi ini menghasilkan \textit{dataset} yang lebih ringkas, informatif, dan relevan dalam mengidentifikasi faktor-faktor determinan \textit{stunting} antarprovinsi.

\subsubsection{Transformasi dan Agregasi Data}
Setelah melalui proses seleksi tabel, langkah selanjutnya adalah transformasi data untuk memastikan setiap variabel yang terbentuk memiliki representasi informasi yang kuat terhadap risiko \textit{stunting}. Pada tahap ini, tidak semua informasi dari tabel mentah digunakan secara langsung; sebaliknya, dilakukan peninjauan ulang untuk menetapkan satu indikator yang paling representatif dari setiap tabel. Untuk tabel yang hanya memuat indikator tunggal, nilai persentase diadopsi langsung sebagai fitur numerik. Namun, pada tabel yang memiliki kategori majemuk, dilakukan strategi transformasi khusus dengan memilih indikator yang mencerminkan risiko tertinggi atau melakukan penggabungan kategori agar menghasilkan variabel baru yang lebih ringkas dan substantif.

Selanjutnya, proses agregasi dilakukan untuk menyederhanakan struktur data sehingga seluruh variabel memiliki skala yang seragam dan mudah dibandingkan antarprovinsi. Seluruh variabel direpresentasikan dalam bentuk persentase guna menjaga konsistensi satuan data dan memudahkan proses pemodelan. Hasil dari tahap ini adalah \textit{dataset} terstruktur berbasis provinsi yang siap digunakan sebagai input pada tahapan analisis selanjutnya.

\subsection{Pra-pemrosesan Data} \label{subsec:preprocessing}
Setelah proses penyiapan dan pembentukan \textit{dataset} terstruktur selesai dilakukan, tahap selanjutnya adalah pra-pemrosesan data. Tahapan ini bertujuan untuk memastikan bahwa data yang digunakan sebagai input model memiliki kualitas yang baik, konsisten, dan layak secara statistik sebelum masuk ke proses pemodelan \textit{machine learning}. Mengingat \textit{dataset} disusun dari hasil ekstraksi dan transformasi data sekunder, terdapat potensi munculnya permasalahan seperti nilai kosong atau ketidakkonsistenan format.

Alur pra-pemrosesan data ditunjukkan pada Gambar \ref{fig:5.flowchart_preprocessing}. Proses ini diawali dengan pemuatan \textit{dataset} ke dalam lingkungan komputasi serta pemeriksaan struktur dan konsistensi data. Selanjutnya dilakukan \textit{Exploratory Data Analysis} (EDA) untuk memperoleh gambaran umum karakteristik data. Tahap akhir pra-pemrosesan mencakup eliminasi variabel non-determinan serta penetapan prevalensi \textit{stunting} sebagai variabel target ($y$) dan indikator determinan sebagai variabel prediktor ($X$).

\begin{figure}[H]
    \centering
    \includegraphics[width=0.9\textwidth]{figure/preprocess.jpg}
    \caption{Alur Pra-pemrosesan Data}
    \label{fig:5.flowchart_preprocessing}
\end{figure}

\subsection{Pembangunan Model \textit{Random Forest}} \label{subsec:modeling}
Setelah melalui tahapan penyiapan dan pra-pemrosesan data, \textit{dataset} yang telah bersih dan terstruktur selanjutnya digunakan pada tahap pemodelan. Pada penelitian ini, pendekatan yang digunakan adalah \textit{Random Forest Regression} untuk memodelkan hubungan antara variabel determinan \textit{stunting} dan nilai prevalensi \textit{stunting} pada tingkat provinsi yang memiliki nilai numerik kontinu. Pemilihan metode ini didasarkan pada kemampuannya dalam menangani data dengan jumlah fitur yang relatif banyak serta hubungan non-linier antarvariabel tanpa asumsi distribusi data yang ketat \cite{shen2023machine}. Alur proses pemodelan disajikan secara ringkas pada Gambar~\ref{fig:6.flow_rf}.

\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{figure/alur_train.jpg}
    \caption{Alur Pembangunan Model \textit{Random Forest Regression}}
    \label{fig:6.flow_rf}
\end{figure}

\subsubsection{Validasi Silang dan Optimasi Hiperparameter}
Tahap awal pembangunan model difokuskan pada pencarian konfigurasi model yang paling optimal melalui strategi validasi yang ketat. Mengingat keterbatasan jumlah sampel data yang hanya tersedia pada tingkat provinsi (n=36), penelitian ini menerapkan metode \textit{Leave-One-Out Cross Validation} (LOOCV) sebagai pengganti pembagian data latih-uji konvensional \cite{cha2021comparison}. Dalam skema ini, proses pelatihan dilakukan secara iteratif sebanyak jumlah sampel, di mana pada setiap iterasi, satu provinsi digunakan sebagai data uji sementara provinsi sisanya menjadi data latih. Pendekatan ini dipilih untuk memaksimalkan pemanfaatan informasi dari data yang terbatas serta menghasilkan estimasi performa model yang tidak bias terhadap pemilihan acak data uji tertentu.

Bersamaan dengan proses validasi LOOCV, dilakukan optimasi kinerja model melalui mekanisme \textit{Hyperparameter Tuning} menggunakan metode \textit{Grid Search}. Tahap ini bertujuan untuk mencari kombinasi parameter terbaik meliputi jumlah pohon (\textit{n\_estimators}), kedalaman maksimal (\textit{max\_depth}), dan jumlah sampel minimum percabangan yang menghasilkan tingkat kesalahan prediksi terendah. Eksplorasi ruang parameter ini dinilai krusial untuk mencegah terjadinya \textit{overfitting}\footnote{\textit{Overfitting} adalah kondisi di mana model mempelajari detail spesifik atau \textit{noise} data latih secara berlebihan, sehingga akurasi tinggi pada fase pelatihan namun gagal melakukan generalisasi (prediksi buruk) pada data baru.} yang sering menjadi kendala pada dataset berskala kecil \cite{fatmawati2024random}. Kombinasi parameter yang menghasilkan nilai rata-rata \textit{Root Mean Squared Error} (RMSE) terendah selama proses validasi silang kemudian ditetapkan sebagai konfigurasi model optimal.

\subsubsection{Pelatihan Model Final}
Setelah parameter optimal diperoleh dari tahap validasi, langkah selanjutnya adalah pembangunan model final (\textit{final model fitting}). Pada tahap ini, model \textit{Random Forest} dilatih ulang menggunakan keseluruhan \textit{dataset} provinsi yang tersedia dengan menerapkan parameter terbaik hasil optimasi sebelumnya. Tujuannya adalah untuk menangkap pola data secara utuh tanpa menyisakan data untuk pengujian, karena evaluasi performa telah diselesaikan pada tahap validasi silang. Model terbaik ini kemudian digunakan untuk memetakan hubungan non-linier yang kompleks antara seluruh variabel determinan dengan prevalensi \textit{stunting}.

Selain menghasilkan prediksi angka prevalensi, model final ini memiliki fungsi krusial untuk mengekstraksi nilai kepentingan fitur (\textit{feature importance}). Nilai ini mengkuantifikasi kontribusi relatif setiap indikator determinan terhadap hasil prediksi model secara global. Informasi mengenai bobot kontribusi fitur inilah yang nantinya menjadi landasan utama dalam analisis prioritas intervensi penanganan \textit{stunting} pada tahap interpretasi hasil menggunakan metode SHAP.

\subsection{Evaluasi Performa Model} \label{subsec:evaluasi}
Evaluasi performa model dilakukan untuk mengukur sejauh mana model \textit{Random Forest Regression} mampu memprediksi prevalensi \textit{stunting} secara akurat pada tingkat provinsi. Mengingat penelitian ini bersifat regresi, digunakan beberapa metrik evaluasi berbasis kesalahan prediksi dan kekuatan penjelasan model. Penggunaan lebih dari satu metrik bertujuan untuk memberikan gambaran performa model secara komprehensif, baik dari sisi rata-rata kesalahan absolut, sensitivitas terhadap kesalahan besar, maupun kemampuan model dalam menjelaskan variasi data target. Seluruh metrik dievaluasi pada skema validasi silang yang telah ditetapkan pada tahap pemodelan.

\begin{enumerate}
    \item \textbf{Mean Absolute Error (MAE)}  
    
    MAE digunakan untuk mengukur rata-rata selisih absolut antara nilai prevalensi \textit{stunting} hasil prediksi model dengan nilai aktual pada masing-masing provinsi. Metrik ini memberikan gambaran kesalahan prediksi secara langsung dalam satuan persentase, sehingga memudahkan interpretasi seberapa jauh hasil prediksi model menyimpang dari data SSGI 2024 yang sebenarnya.

    \item \textbf{Mean Squared Error (MSE)}  
    
    MSE digunakan untuk mengevaluasi kesalahan prediksi dengan memberikan penalti lebih besar pada selisih prediksi yang tinggi antarprovinsi. Penggunaan metrik ini penting untuk memastikan bahwa model tidak menghasilkan kesalahan ekstrem pada provinsi tertentu yang dapat mengaburkan pola determinan \textit{stunting} secara nasional.

    \item \textbf{Root Mean Squared Error (RMSE)}  
    
    RMSE digunakan sebagai indikator utama akurasi model karena mengembalikan nilai kesalahan ke dalam skala yang sama dengan prevalensi \textit{stunting}. Dalam konteks penelitian ini, RMSE membantu menilai seberapa besar deviasi prediksi model terhadap nilai aktual \textit{stunting} antarprovinsi secara keseluruhan.

    \item \textbf{R-squared ($R^2$)}  
    
    Koefisien determinasi $R^2$ digunakan untuk mengukur sejauh mana variasi prevalensi \textit{stunting} antarprovinsi dapat dijelaskan oleh variabel determinan yang dimasukkan ke dalam model. Metrik ini memberikan gambaran kemampuan model dalam menangkap hubungan kompleks antara faktor kesehatan ibu, balita, dan lingkungan dengan tingkat \textit{stunting}.

    \item \textbf{Mean Absolute Percentage Error (MAPE)}  
    
    MAPE digunakan untuk mengukur kesalahan prediksi dalam bentuk persentase relatif terhadap nilai aktual prevalensi \textit{stunting}. Metrik ini membantu melihat konsistensi performa model antarprovinsi, terutama ketika terdapat perbedaan tingkat \textit{stunting} yang cukup besar antara satu wilayah dan wilayah lainnya.
\end{enumerate}

\section{Interpretasi Hasil dengan SHAP} \label{sec:shap}

Interpretasi hasil dilakukan menggunakan metode \textit{SHAP (SHapley Additive exPlanations)} untuk menjelaskan keputusan model \textit{Random Forest} yang bersifat \textit{black-box}. Pendekatan ini memungkinkan identifikasi besaran pengaruh setiap faktor determinan terhadap prediksi prevalensi \textit{stunting} secara transparan. Analisis dilakukan secara komprehensif, mencakup tinjauan global untuk skala nasional serta tinjauan lokal spesifik per provinsi. Secara ringkas, alur kerja analisis interpretabilitas model ini diilustrasikan pada Gambar \ref{fig:7.flow_shap}.
\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{figure/alur_SHAP.jpg}
    \caption{Alur Interpretasi Model dengan SHAP}
    \label{fig:7.flow_shap}
\end{figure}

\subsection{Interpretasi Global}
Interpretasi global bertujuan untuk memberikan gambaran menyeluruh mengenai faktor-faktor yang paling dominan mempengaruhi prevalensi \textit{stunting} di tingkat nasional. Analisis ini menggabungkan nilai SHAP mutlak dari seluruh sampel data untuk mengidentifikasi hirarki kepentingan fitur serta pola hubungan umum antara determinan dan kejadian \textit{stunting}. Dalam penelitian ini, interpretasi global diuraikan melalui dua komponen visualisasi utama:

\begin{enumerate}
    \item \textbf{\textit{Feature Importance Plot}} 
    
    Visualisasi berbentuk diagram batang yang mengurutkan variabel determinan berdasarkan besaran rata-rata nilai SHAP absolut ($\text{meanOf}|SHAP|$). Grafik ini berfungsi untuk menentukan fitur mana yang memiliki dampak paling signifikan terhadap model secara keseluruhan tanpa memandang arah pengaruhnya (positif atau negatif).
    
    \item \textbf{\textit{Summary Plot (Beeswarm)}} 
    
    Visualisasi distribusi nilai SHAP yang menyajikan arah pengaruh setiap variabel terhadap prediksi. Pada grafik ini, titik berwarna merah merepresentasikan nilai fitur yang tinggi, sedangkan biru merepresentasikan nilai rendah. Sebaran titik tersebut menunjukkan bagaimana nilai fitur tertentu dapat menaikkan (nilai SHAP positif) atau menurunkan (nilai SHAP negatif) risiko \textit{stunting}.
\end{enumerate}

\subsection{Interpretasi Lokal}

Interpretasi lokal dilakukan untuk memahami mekanisme prediksi model \textit{Random Forest} pada tingkat wilayah spesifik, yaitu provinsi. Berbeda dengan interpretasi global yang menyoroti pola umum secara nasional, pendekatan ini berfokus pada kontribusi variabel determinan terhadap prediksi prevalensi \textit{stunting} pada masing-masing provinsi. Analisis ini penting karena faktor dominan penyebab \textit{stunting} dapat bervariasi antarwilayah meskipun memiliki tingkat prevalensi yang relatif serupa. Alur interpretasi lokal menggunakan metode SHAP dalam penelitian ini ditunjukkan pada Gambar \ref{fig:7.flow_shap}.

\subsubsection{Pemilihan Sampel Provinsi}
Mengingat interpretasi lokal bersifat mendalam dan kontekstual, tidak seluruh provinsi dianalisis secara individual. Oleh karena itu, dilakukan pemilihan sampel provinsi yang bertujuan untuk merepresentasikan variasi kondisi \textit{stunting} di Indonesia. Pemilihan sampel didasarkan pada distribusi nilai prevalensi \textit{stunting} hasil prediksi model, sehingga mencakup provinsi dengan tingkat prevalensi relatif tinggi, rendah, serta kondisi menengah. Pendekatan ini memungkinkan analisis yang lebih terfokus tanpa mengurangi representativitas karakteristik wilayah secara nasional.

\subsubsection{Visualisasi dan Analisis \textit{Waterfall Plot}}
Setelah sampel provinsi ditetapkan, dilakukan interpretasi lokal menggunakan visualisasi \textit{Waterfall Plot}. Visualisasi ini digunakan untuk menguraikan proses pembentukan nilai prediksi prevalensi \textit{stunting} oleh model pada satu provinsi tertentu. Proses dimulai dari nilai rata-rata prediksi model (\textit{base value}), kemudian setiap variabel determinan ditampilkan sebagai kontribusi aditif yang dapat meningkatkan atau menurunkan nilai prediksi hingga mencapai nilai akhir.

Melalui \textit{Waterfall Plot}, kontribusi masing-masing variabel dapat diamati secara eksplisit baik dari segi arah maupun besar pengaruhnya. Variabel dengan kontribusi positif merepresentasikan faktor yang mendorong peningkatan risiko \textit{stunting}, sedangkan kontribusi negatif menunjukkan faktor yang berperan dalam menurunkan risiko tersebut. Pendekatan ini memberikan transparansi terhadap keputusan model serta menjadi dasar analisis perbedaan determinan \textit{stunting} antarprovinsi pada tahap pembahasan hasil.


\section{Alat dan Bahan} \label{sec:alat_bahan}

\subsection{Alat Penelitian}
Perangkat yang digunakan dalam penelitian ini meliputi perangkat keras dan perangkat lunak yang mendukung proses pengolahan data, pemodelan, serta interpretasi hasil. Adapun rincian alat penelitian yang digunakan adalah sebagai berikut:

\begin{enumerate}[noitemsep]
    \item \textbf{Perangkat Keras:} Laptop dengan spesifikasi prosesor Intel® Core™ i7-11600H (2.9 GHz, 6 core), RAM 16 GB, penyimpanan 256 GB SSD, dan kartu grafis NVIDIA® GeForce RTX™ 3050. Perangkat ini digunakan untuk menjalankan seluruh proses komputasi, mulai dari pra-pemrosesan data hingga pelatihan dan interpretasi model \textit{Random Forest}.
    
    \item \textbf{Sistem Operasi:} Windows 11 sebagai lingkungan kerja utama dalam menjalankan perangkat lunak dan bahasa pemrograman yang digunakan pada penelitian ini.
    
    \item \textbf{Bahasa Pemrograman:} Python versi 3.10 yang digunakan sebagai bahasa utama dalam pengolahan data, pembangunan model \textit{machine learning}, serta analisis interpretabilitas model.
    
    \item \textbf{Library Python:} 
    Pandas dan NumPy digunakan untuk manipulasi dan pengolahan data numerik, Scikit-learn untuk implementasi model \textit{Random Forest} dan validasi silang, Matplotlib dan Seaborn untuk visualisasi data dan hasil analisis, serta SHAP untuk interpretasi kontribusi variabel determinan terhadap prediksi \textit{stunting}.
    
    \item \textbf{Perangkat Lunak Pendukung:} 
    Visual Studio Code digunakan sebagai editor kode utama untuk pengembangan skrip program, sedangkan Jupyter Notebook dimanfaatkan untuk eksplorasi data, dokumentasi proses analisis, dan visualisasi hasil secara interaktif.
\end{enumerate}


\subsection{Bahan Penelitian}
Dataset yang digunakan dalam penelitian ini bersumber dari Laporan Publikasi Survei Status Gizi Indonesia (SSGI) tahun 2024 yang diterbitkan oleh Kementerian Kesehatan Republik Indonesia \cite{kemenkes2025ssgi}. Data tersebut merupakan data sekunder berskala nasional yang menyajikan berbagai indikator status gizi, kesehatan ibu dan anak, serta kondisi lingkungan dan sosial ekonomi pada tingkat provinsi. Setelah melalui tahap penyiapan dan seleksi data, diperoleh satu dataset terstruktur yang terdiri dari 56 variabel independen dan satu variabel dependen berupa prevalensi \textit{stunting}. Untuk memudahkan pemahaman struktur data dan menjaga konsistensi analisis determinan, seluruh variabel independen kemudian dikelompokkan ke dalam beberapa kategori tematik berdasarkan karakteristik indikator yang diwakilinya.

\begin{table}[H]
\centering
\small
\caption{Distribusi Variabel Determinan Stunting berdasarkan Kategori}
\label{tab:distribusi_variabel}
\begin{tabular}{|c|l|c|}
\hline
\textbf{No} & \textbf{Kategori Variabel} & \textbf{Jumlah Fitur} \\ \hline
1 & Riwayat Kehamilan dan Kelahiran & 15 \\ \hline
2 & Riwayat Pemberian ASI dan MP-ASI & 17 \\ \hline
3 & Akses dan Pemanfaatan Pelayanan Kesehatan & 9 \\ \hline
4 & Imunisasi dan Morbiditas Balita & 8 \\ \hline
5 & Kepemilikan dan Pemanfaatan Jaminan Kesehatan & 2 \\ \hline
6 & Pendampingan Keluarga dan Pengetahuan Stunting & 4 \\ \hline
7 & Kontrasepsi Pasca Bersalin & 1 \\ \hline
8 & Bantuan Sosial & 1 \\ \hline
9 & Akses Air Minum dan Sanitasi & 4 \\ \hline
\multicolumn{2}{|c|}{\textbf{Total}} & \textbf{56} \\ \hline
\end{tabular}
\end{table}

Tabel \ref{tab:distribusi_variabel} menunjukkan bahwa variabel determinan yang digunakan dalam penelitian ini didominasi oleh indikator terkait riwayat kehamilan, pola pemberian makan bayi dan anak, serta akses pelayanan kesehatan. Komposisi ini mencerminkan pendekatan multidimensi dalam menganalisis \textit{stunting}, di mana faktor biologis, perilaku, layanan kesehatan, serta kondisi lingkungan dianalisis secara simultan. Pengelompokan ini juga menjadi dasar dalam interpretasi model, khususnya pada tahap analisis kontribusi fitur menggunakan SHAP.

\section{Metode Pengembangan} \label{sec:metode_pengembangan}

Penelitian ini menerapkan kerangka kerja pengembangan sistem berbasis data (\textit{data-driven}) yang mengacu pada tahapan standar \textit{Knowledge Discovery in Databases} (KDD)\footnote{\textit{Knowledge Discovery in Databases} (KDD) adalah proses non-trivial untuk mengidentifikasi pola yang valid, baru, berpotensi bermanfaat, dan dapat dipahami dari sekumpulan data yang besar (Fayyad et al., 1996).}. Kerangka kerja ini digunakan untuk memastikan bahwa proses transformasi data sekunder dari laporan SSGI 2024 menjadi informasi analitis dilakukan secara sistematis dan terstruktur. Sebagai metode utama dalam tahap pemodelan, penelitian ini menggunakan algoritma \textit{Random Forest Regression}, yang secara luas dikenal memiliki kemampuan dalam memodelkan hubungan non-linier dan menangani interaksi kompleks antarvariabel determinan. Pemilihan algoritma ini didukung oleh temuan penelitian sebelumnya yang menunjukkan kinerja \textit{Random Forest} yang kompetitif dalam konteks pemodelan prevalensi \textit{stunting} di Indonesia \cite{pratama2024comparison}.

Tantangan metodologis utama dalam penelitian ini adalah keterbatasan jumlah observasi data pada tingkat provinsi ($n=36$), yang berpotensi menimbulkan risiko \textit{overfitting} apabila digunakan skema pembagian data latih dan uji konvensional. Oleh karena itu, diterapkan strategi validasi \textit{Leave-One-Out Cross Validation} (LOOCV), di mana setiap provinsi secara bergantian digunakan sebagai data uji sementara provinsi lainnya berperan sebagai data latih. Pendekatan ini memungkinkan pemanfaatan data secara maksimal dan memberikan estimasi performa model yang lebih stabil pada \textit{dataset} berukuran kecil, sebagaimana direkomendasikan dalam penelitian sebelumnya \cite{cha2021comparison}.

Selain aspek akurasi prediksi, penelitian ini juga menekankan pada interpretabilitas model melalui integrasi metode SHAP. Metode ini digunakan untuk mengkuantifikasi kontribusi relatif setiap variabel determinan terhadap hasil prediksi model, baik secara global maupun pada tingkat provinsi. Pendekatan SHAP dipilih karena kemampuannya dalam menjelaskan model berbasis \textit{ensemble} secara transparan, sehingga hasil pemodelan tidak hanya menghasilkan estimasi angka prevalensi \textit{stunting}, tetapi juga menyediakan dasar analitis yang dapat mendukung perumusan kebijakan intervensi gizi yang lebih tepat sasaran \cite{shen2023machine}.

\section{Ilustrasi Perhitungan Metode} \label{sec:ilustrasi_metode}

Bagian ini menyajikan simulasi pemrosesan data SSGI 2024 oleh model untuk menghasilkan prediksi prevalensi \textit{stunting}. Angka yang digunakan di sini adalah data hipotetis (\textit{dummy}) untuk menggambarkan alur kalkulasi dari \textit{input} fitur hingga evaluasi akhir.

\subsection{Prediksi Random Forest Regression}

Dalam penelitian ini, prediksi prevalensi \textit{stunting} untuk satu provinsi tidak ditentukan oleh satu pohon keputusan tunggal, melainkan melalui konsensus dari banyak pohon (\textit{ensemble}). Setiap pohon dalam model akan memberikan estimasi angka prevalensi berdasarkan fitur \textit{input} (seperti sanitasi, kemiskinan, dll) yang dipelajarinya.

Berikut adalah ilustrasi jika model terdiri dari 3 pohon keputusan, di mana masing-masing pohon memberikan estimasi angka \textit{stunting} sebagai berikut:

\begin{table}[H]
    \centering
    \renewcommand{\arraystretch}{1.3}
    \caption{Data Hipotetis Output Pohon Keputusan}
    \label{tab:rf_output_dummy}
    \begin{tabular}{lc}
    \toprule
    \textbf{Pohon Keputusan} & \textbf{\textit{Output} Prediksi ($h_i$)} \\
    \midrule
    \textit{Tree} 1 & 18.5 \\
    \textit{Tree} 2 & 17.9 \\
    \textit{Tree} 3 & 18.2 \\
    \bottomrule
    \end{tabular}
\end{table}

Nilai prediksi akhir ($\hat{y}$) untuk provinsi tersebut diperoleh dengan merata-ratakan seluruh \textit{output} pohon menggunakan persamaan berikut:

\par\vspace{0.8cm} % Spasi aman
\[
   \hat{y} = \frac{1}{N} \sum_{i=1}^{N} h_i(x)
\]
\par\vspace{0.8cm}

\noindent \textbf{Penyelesaian:}
\par\vspace{0.2cm}
\begin{align*}
    \hat{y} &= \frac{18.5 + 17.9 + 18.2}{3} \\[0.3cm]
    \hat{y} &= \mathbf{18.2\%}
\end{align*}
\par\vspace{0.5cm}

Angka \textbf{18.2\%} inilah yang menjadi prediksi final prevalensi \textit{stunting} untuk provinsi tersebut.

\subsection{Perhitungan Error Prediksi}

Validasi akurasi dilakukan dengan membandingkan angka prediksi model terhadap data aktual SSGI. Selisih absolut antara kedua nilai ini menunjukkan seberapa jauh deviasi estimasi model untuk satu provinsi.

Misalkan data aktual dan hasil prediksi untuk sampel provinsi tersebut adalah:

\begin{table}[H]
    \centering
    \renewcommand{\arraystretch}{1.3}
    \caption{Data Hipotetis Aktual vs Prediksi}
    \label{tab:error_single_dummy}
    \begin{tabular}{lc}
    \toprule
    \textbf{Data} & \textbf{Nilai (\%)} \\
    \midrule
    Aktual ($y$) & 20.0 \\
    Prediksi ($\hat{y}$) & 18.2 \\
    \bottomrule
    \end{tabular}
\end{table}

Perhitungan deviasi atau \textit{error} individu ($e$) adalah:

\par\vspace{0.8cm}
\[
   e = |y - \hat{y}|
\]
\par\vspace{0.8cm}

\noindent \textbf{Penyelesaian:}
\par\vspace{0.2cm}
\begin{align*}
    e &= |20.0 - 18.2| \\[0.3cm]
    e &= \mathbf{1.8}
\end{align*}
\par\vspace{0.5cm}

Hasil ini menunjukkan bahwa prediksi model meleset sebesar \textbf{1.8 poin persentase} dari angka \textit{stunting} yang sebenarnya.

\subsection{Perhitungan Metrik Evaluasi}

Untuk mengukur performa model secara menyeluruh terhadap seluruh provinsi di Indonesia, digunakan perhitungan agregat. Berikut adalah ilustrasi perhitungan menggunakan sampel data dari 3 provinsi (A, B, dan C).

\begin{table}[H]
    \centering
    \renewcommand{\arraystretch}{1.3}
    \caption{Data Hipotetis untuk Evaluasi Agregat}
    \label{tab:eval_metrics_dummy}
    \begin{tabular}{ccccc}
    \toprule
    \textbf{Sampel} & \textbf{Aktual ($y$)} & \textbf{Prediksi ($\hat{y}$)} & \textbf{Selisih ($|e|$)} & \textbf{Kuadrat ($e^2$)} \\
    \midrule
    A & 20 & 18 & 2 & 4 \\
    B & 15 & 16 & 1 & 1 \\
    C & 25 & 23 & 2 & 4 \\
    \bottomrule
    \end{tabular}
\end{table}

\subsubsection*{1. Mean Absolute Error (MAE)}
\textit{Mean Absolute Error} (MAE) dihitung untuk mengetahui rata-rata penyimpangan absolut prediksi \textit{stunting} dalam satuan persen.

\par\vspace{0.5cm}
\[
   \text{MAE} = \frac{1}{n} \sum_{i=1}^{n} |y_i - \hat{y}_i|
\]
\par\vspace{0.5cm}

\noindent \textbf{Penyelesaian:}
\par\vspace{0.2cm}
\begin{align*}
    \text{MAE} &= \frac{2 + 1 + 2}{3} = \mathbf{1.67}
\end{align*}
\par\vspace{0.5cm}

Model memiliki rata-rata kesalahan prediksi sebesar \textbf{1.67 poin}.

\subsubsection*{2. Mean Squared Error (MSE)}
\textit{Mean Squared Error} (MSE) dihitung untuk memberikan bobot lebih pada kesalahan prediksi yang ekstrem, guna memastikan model sensitif terhadap data provinsi dengan selisih \textit{stunting} yang besar.

\par\vspace{0.5cm}
\[
   \text{MSE} = \frac{1}{n} \sum_{i=1}^{n} (y_i - \hat{y}_i)^2
\]
\par\vspace{0.5cm}

\noindent \textbf{Penyelesaian:}
\par\vspace{0.2cm}
\begin{align*}
    \text{MSE} &= \frac{4 + 1 + 4}{3} = \mathbf{3.00}
\end{align*}
\par\vspace{0.5cm}

\subsubsection*{3. Root Mean Squared Error (RMSE)}
\textit{Root Mean Squared Error} (RMSE) mengembalikan nilai kesalahan ke satuan asli (persentase) untuk menggambarkan standar deviasi dari residu prediksi model terhadap data SSGI.

\par\vspace{0.5cm}
\[
   \text{RMSE} = \sqrt{\text{MSE}}
\]
\par\vspace{0.5cm}

\noindent \textbf{Penyelesaian:}
\par\vspace{0.2cm}
\begin{align*}
    \text{RMSE} &= \sqrt{3.00} \approx \mathbf{1.73}
\end{align*}
\par\vspace{0.5cm}

Deviasi standar kesalahan model berada pada angka \textbf{1.73 poin}.

\subsubsection*{4. Mean Absolute Percentage Error (MAPE)}
\textit{Mean Absolute Percentage Error} (MAPE) digunakan untuk melihat rasio kesalahan model relatif terhadap besaran angka \textit{stunting} aktual di masing-masing provinsi.

\par\vspace{0.5cm}
\[
   \text{MAPE} = \frac{100\%}{n} \sum_{i=1}^{n} \left| \frac{y_i - \hat{y}_i}{y_i} \right|
\]
\par\vspace{0.5cm}

\noindent \textbf{Penyelesaian:}
\par\vspace{0.2cm}
\begin{align*}
    \text{MAPE} &= \frac{100\%}{3} (0.10 + 0.067 + 0.08) \\[0.2cm]
    &= \mathbf{8.22\%}
\end{align*}
\par\vspace{0.5cm}

Rata-rata kesalahan model adalah sebesar \textbf{8.22\%} dari nilai aktual.

\section{Ilustrasi Rancangan Pengujian} \label{sec:ilustrasi_pengujian}

Bagian ini menjabarkan skenario eksperimen yang dilakukan untuk melatih dan memvalidasi model. Mengingat jumlah observasi yang terbatas (36 provinsi), strategi pembagian data dan pemilihan parameter menjadi krusial untuk mencegah \textit{overfitting} dan memastikan hasil evaluasi yang objektif.

\subsection{Skema \textit{Leave-One-Out Cross Validation} (LOOCV)}

Penelitian ini menerapkan metode \textit{Leave-One-Out Cross Validation} (LOOCV) untuk memaksimalkan penggunaan data. Dalam skema ini, evaluasi dilakukan melalui 36 kali iterasi, di mana pada setiap iterasi, satu provinsi disisihkan sebagai data uji (\textit{testing set}) sementara 35 provinsi lainnya digunakan sebagai data latih (\textit{training set}).

Berikut adalah ilustrasi pembagian data pada setiap iterasi pengujian:

\begin{table}[H]
    \centering
    \renewcommand{\arraystretch}{1.3}
    \caption{Ilustrasi Skema Pembagian Data LOOCV}
    \label{tab:loocv_scheme_dummy}
    \begin{tabular}{cll}
    \toprule
    \textbf{Iterasi} & \textbf{Data Latih (35 Provinsi)} & \textbf{Data Uji (1 Provinsi)} \\
    \midrule
    1 & Prov 2, 3, ..., 36 & \textbf{Provinsi 1} \\
    2 & Prov 1, 3, ..., 36 & \textbf{Provinsi 2} \\
    ... & ... & ... \\
    36 & Prov 1, 2, ..., 35 & \textbf{Provinsi 36} \\
    \bottomrule
    \end{tabular}
\end{table}

Dengan mekanisme ini, model diuji pada setiap provinsi tepat satu kali tanpa bias pemilihan data, dan performa akhir dihitung dari rata-rata \textit{error} seluruh iterasi.

\subsection{Hyperparameter Tuning}

Untuk mendapatkan konfigurasi model yang paling optimal dalam memprediksi \textit{stunting}, dilakukan pencarian parameter terbaik menggunakan teknik \textit{Grid Search}. Berbagai kombinasi parameter (seperti jumlah pohon dan kedalaman pohon) diuji performanya menggunakan skema LOOCV di atas.

Tabel berikut mengilustrasikan simulasi hasil pencarian parameter, di mana keputusan pemilihan didasarkan pada nilai rata-rata RMSE terendah.

\begin{table}[H]
    \centering
    \renewcommand{\arraystretch}{1.3}
    \caption{Data Hipotetis Hasil Tuning Parameter}
    \label{tab:tuning_dummy}
    \begin{tabular}{ccccl}
    \toprule
    \textbf{No} & \textbf{\textit{n\_estimators}} & \textbf{\textit{max\_depth}} & \textbf{RMSE} & \textbf{Keputusan} \\
    \midrule
    1 & 100 & 5 & 2.10 & - \\
    \textbf{2} & \textbf{200} & \textbf{5} & \textbf{1.85} & \textbf{Dipilih (Terbaik)} \\
    3 & 200 & 10 & 1.92 & - \\
    \bottomrule
    \end{tabular}
\end{table}

Berdasarkan ilustrasi Tabel \ref{tab:tuning_dummy}, kombinasi nomor 2 dipilih karena menghasilkan tingkat kesalahan prediksi yang paling minim.

\subsection{Pemilihan Model Final}

Tahap terakhir adalah pembentukan model final untuk kebutuhan interpretasi fitur. Setelah parameter terbaik ditemukan (misal: \textit{n\_estimators}=200 dan \textit{max\_depth}=5), model tersebut tidak lagi dipisahkan antara data latih dan uji.

Sebagai langkah akhir, model dilatih ulang (\textit{retraining}) menggunakan seluruh \textit{dataset} penuh. Model yang telah mempelajari pola dari seluruh data provinsi inilah yang nantinya digunakan untuk analisis determinan penyebab \textit{stunting} menggunakan metode SHAP pada Bab IV.